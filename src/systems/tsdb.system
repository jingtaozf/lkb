;;; -*- Mode: LISP; Syntax: Common-Lisp; Package: MAKE -*-

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;        file: tsdb.system
;;;      module:
;;;     version: 0.0 -- 22-sep-95 (experimental)
;;;  written by: oe, dfki saarbruecken
;;; last update:
;;;  updated by:
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; author            | date        | modification
;;; ------------------|-------------|------------------------------------------
;;;                   |             |
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


(in-package "MAKE")

(defsystem "tsdb"
    :source-pathname (dir-append (get-sources-dir "tsdb")
				 '(:relative "tsdb"))
    :binary-pathname (dir-append (get-binaries-dir "tsdb")
				 '(:relative "tsdb"))
    :finally-do
    #+(and :lkb (not :tty))
    (funcall (symbol-function (read-from-string "tsdb::tsdb")) :podium)
    #-(and :lkb (not :tty)) 
    nil
    :components
    ((:module "tsdb"
      :source-pathname ""
      :components
      ((:file "tsdb-package")
       #+:page (:file "tdl-patches")
       #+:page (:file "page-interface")
       #+(and :page :ignore) (:file "chart")
       #+:lkb (:file "lkb-interface")
       (:file "globals")
       (:file "utilities")
       (:file "tsql")
       (:file "tsdb")
       (:file "commands")
       #+:ignore (:file "server")
       (:file "statistics")
       (:file "podium"))))
    :depends-on (#+:page "page" #+:lkb "lkb"))


